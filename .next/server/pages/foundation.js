"use strict";(()=>{var e={};e.id=111,e.ids=[111,2888,660],e.modules={535:(e,s,a)=>{a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{config:()=>h,default:()=>u,getServerSideProps:()=>p,getStaticPaths:()=>g,getStaticProps:()=>b,reportWebVitals:()=>v,routeModule:()=>C,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>f,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>x});var i=a(7093),r=a(5244),l=a(1323),n=a(9209),o=a.n(n),c=a(9597),d=a(7471),m=e([c,d]);[c,d]=m.then?(await m)():m;let u=(0,l.l)(d,"default"),b=(0,l.l)(d,"getStaticProps"),g=(0,l.l)(d,"getStaticPaths"),p=(0,l.l)(d,"getServerSideProps"),h=(0,l.l)(d,"config"),v=(0,l.l)(d,"reportWebVitals"),x=(0,l.l)(d,"unstable_getStaticProps"),j=(0,l.l)(d,"unstable_getStaticPaths"),N=(0,l.l)(d,"unstable_getStaticParams"),y=(0,l.l)(d,"unstable_getServerProps"),f=(0,l.l)(d,"unstable_getServerSideProps"),C=new i.PagesRouteModule({definition:{kind:r.x.PAGES,page:"/foundation",pathname:"/foundation",bundlePath:"",filename:""},components:{App:c.default,Document:o()},userland:d});t()}catch(e){t(e)}})},7471:(e,s,a)=>{a.a(e,async(e,t)=>{try{a.r(s),a.d(s,{default:()=>Stage1BusinessIntake});var i=a(997);a(6689);var r=a(1664),l=a.n(r),n=a(968),o=a.n(n);!function(){var e=Error("Cannot find module '../hooks/useSafeTranslation'");throw e.code="MODULE_NOT_FOUND",e}();var c=a(6353);(function(){var e=Error("Cannot find module '../lib/localStorage-validator'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '../components/FoundationIntelligenceDashboard'");throw e.code="MODULE_NOT_FOUND",e}();var d=a(9834),m=a(3962),u=e([d,m]);function Stage1BusinessIntake(){let{t:e,isHydrated:s}=Object(function(){var e=Error("Cannot find module '../hooks/useSafeTranslation'");throw e.code="MODULE_NOT_FOUND",e}())("foundation"),a={companyName:"",businessType:"",zipCode:"",primarySupplierCountry:"",importVolume:"",timelinePriority:"",secondarySupplierCountries:[],seasonalPatterns:"",currentShippingPorts:[],specialRequirements:[]},setFormData=()=>null,setCustomBusinessType=()=>null,setDerivedData=()=>null,setShowDerived=()=>null,setLoading=()=>null,t={tradeFlowRecords:597072,activeRoutes:738,businessTypes:24,countries:156,totalTradeValue:76.9,lastUpdate:new Date().toISOString()},handleInputChange=(e,s)=>{setFormData({...a,[e]:s}),a.businessType&&a.zipCode&&a.primarySupplierCountry&&s&&setTimeout(()=>deriveIntelligence({...a,[e]:s}),500)},deriveIntelligence=async e=>{try{console.log("\uD83E\uDDE0 Generating enterprise intelligence...");let s=await fetch("/api/intelligence/foundation-derivation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(s.ok){let a=await s.json();setDerivedData({loading:!1,geographic:a.geographic,patterns:a.patterns,routing:a.routing,enhanced:a.enhanced,projectedSavings:a.projectedSavings||calculateProjectedSavings(e),riskAssessment:a.riskAssessment||calculateRiskAssessment(e),backendEnhanced:!0,dataPointsGenerated:a.dataPointsGenerated||24})}else{let s=deriveGeographic(e.zipCode),a=deriveBusinessPatterns(e.businessType),t=deriveOptimalRouting(e.primarySupplierCountry,s);setDerivedData({loading:!1,geographic:s,patterns:a,routing:t,projectedSavings:calculateProjectedSavings(e),riskAssessment:calculateRiskAssessment(e),backendEnhanced:!1,dataPointsGenerated:16})}setShowDerived(!0)}catch(e){console.error("❌ Intelligence derivation error:",e)}},calculateProjectedSavings=e=>{let s={"Under $500K":125e3,"$500K - $1M":187500,"$1M - $5M":75e4,"$5M - $25M":375e4,"Over $25M":625e4}[e.importVolume]||5e5,a=.25*s,t=Object.values(e).filter(e=>""!==e).length/Object.keys(e).length,i={Electronics:.95,Manufacturing:.92,Medical:.96,Automotive:.94,Energy:.93}[e.businessType]||.9;return{annual:Math.round(a),monthly:Math.round(a/12),confidence:Math.max(85,Math.min(98,Math.round(i*t*100)))}},calculateRiskAssessment=e=>{let s={CN:{score:78,volatility:"High"},IN:{score:82,volatility:"Medium"},VN:{score:88,volatility:"Low"},TH:{score:85,volatility:"Low"},MY:{score:86,volatility:"Low"}}[e.primarySupplierCountry]||{score:80,volatility:"Medium"};return{overallScore:s.score,volatility:s.volatility,factors:["Tariff volatility","Supply chain disruption","Political stability"],mitigation:"USMCA triangle routing provides 94% risk reduction"}},deriveGeographic=e=>{if(!e)return null;let s=e.substring(0,2);return({90:{state:"CA",city:"Los Angeles",ports:["Los Angeles","Long Beach"],region:"West Coast"},91:{state:"CA",city:"Los Angeles",ports:["Los Angeles","Long Beach"],region:"West Coast"},94:{state:"CA",city:"San Francisco",ports:["Oakland","San Francisco"],region:"West Coast"},98:{state:"WA",city:"Seattle",ports:["Seattle","Tacoma"],region:"West Coast"},10:{state:"NY",city:"New York",ports:["New York","Newark"],region:"East Coast"},"07":{state:"NJ",city:"Newark",ports:["Newark","New York"],region:"East Coast"},33:{state:"FL",city:"Miami",ports:["Miami","Port Everglades"],region:"East Coast"},77:{state:"TX",city:"Houston",ports:["Houston"],region:"Gulf Coast"},60:{state:"IL",city:"Chicago",ports:["Chicago (inland)"],region:"Midwest"},M6:{state:"ON",city:"Toronto",ports:["Port of Halifax","Port of Vancouver"],region:"USMCA Central Hub",country:"Canada"},V6:{state:"BC",city:"Vancouver",ports:["Port of Vancouver"],region:"Pacific Gateway",country:"Canada"}})[s]||{state:"US",city:"Continental US",ports:["Various"],region:"Continental US"}},deriveBusinessPatterns=e=>({Electronics:{seasonal:"Q4_HEAVY",specialRequirements:["Static Sensitive","Temperature Control"],typicalMargin:"15-25%",riskProfile:"Supply chain disruption sensitive",optimizationPotential:"High"},Manufacturing:{seasonal:"CONSISTENT",specialRequirements:["Heavy Freight","Industrial Handling"],typicalMargin:"12-20%",riskProfile:"Cost sensitive, volume dependent",optimizationPotential:"Medium"},Medical:{seasonal:"CONSISTENT",specialRequirements:["Temperature Control","Pharmaceutical","FDA Compliance"],typicalMargin:"25-40%",riskProfile:"Regulatory compliance critical",optimizationPotential:"Very High"}})[e]||{seasonal:"VARIABLE",specialRequirements:[],typicalMargin:"15-25%",riskProfile:"Standard business risk",optimizationPotential:"Medium"},deriveOptimalRouting=(e,s)=>{let a=s?.region==="West Coast"?.05:0,t=Math.round(100*((({CN:.85,IN:.88,VN:.92,TH:.9,MY:.91,KR:.94,JP:.96})[e]||.85)+a));return s?.country==="Canada"?{recommendedRoute:"Asia → Mexico → Canada (USMCA Triangle)",transitTime:"18-22 days (vs 35-45 days direct + 25% tariffs)",routeConfidence:Math.max(85,Math.min(96,t)),savings:"USMCA 0% vs 25% bilateral tariffs",advantage:"Cultural bridge expertise + treaty benefits"}:{recommendedRoute:"Asia → Mexico → USA (USMCA Triangle)",transitTime:"14-18 days via Mexico manufacturing",routeConfidence:Math.max(85,Math.min(96,t)),savings:"USMCA 0% vs 25% bilateral tariffs",advantage:"Mexico manufacturing hub + nearshoring benefits"}},handleSubmit=async e=>{e.preventDefault(),setLoading(!0);try{let e={...a,businessType:"Other"===a.businessType?"":a.businessType},s=await (0,c.gO)(e),t={...e,derivedContext:null,intelligence:s,timestamp:Date.now()};localStorage.setItem("triangle-foundation",JSON.stringify(t)),setTimeout(()=>{window.location.href="/product"},1500)}catch(e){console.error("❌ Foundation submit error:",e),setLoading(!1)}};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o(),{children:[i.jsx("title",{children:`${e("title")} - Triangle Intelligence Platform`}),i.jsx("meta",{name:"description",content:e("subtitle")})]}),i.jsx("nav",{className:"bloomberg-nav",children:i.jsx("div",{className:"bloomberg-container-padded",children:(0,i.jsxs)("div",{className:"bloomberg-flex",style:{justifyContent:"space-between",alignItems:"center"},children:[(0,i.jsxs)(l(),{href:"/",className:"bloomberg-nav-brand",children:[i.jsx("span",{className:"text-success",children:"◢"}),s?e("nav:brandName"):"Triangle Intelligence",i.jsx("span",{className:"text-primary",children:s?e("nav:version"):"PRO v2.1"})]}),(0,i.jsxs)("div",{className:"bloomberg-flex",style:{justifyContent:"flex-end",flexWrap:"wrap",gap:"var(--space-md)"},children:[(0,i.jsxs)("div",{className:"bloomberg-status bloomberg-status-success",children:[i.jsx("div",{className:"bloomberg-status-dot"}),e("nav:user"),": admin@triangleintel.com"]}),(0,i.jsxs)("div",{className:"bloomberg-status bloomberg-status-info",children:[i.jsx("div",{className:"bloomberg-status-dot"}),e("nav:activeSession")]}),(0,i.jsxs)("div",{className:"bloomberg-status bloomberg-status-warning",children:[i.jsx("span",{children:"\uD83D\uDD14"}),"3 ",e("nav:alerts")]}),i.jsx(d.ZP,{onLanguageChange:()=>null}),i.jsx(l(),{href:"/dashboard",className:"bloomberg-btn bloomberg-btn-secondary",children:e("nav:account")}),i.jsx(l(),{href:"/",className:"bloomberg-btn bloomberg-btn-primary",children:e("nav:logout")})]})]})})}),(0,i.jsxs)("div",{className:"triangle-layout",children:[i.jsx(m.Z,{}),(0,i.jsxs)("main",{className:"main-content",style:{backgroundImage:"linear-gradient(rgba(0, 0, 0, 0.65), rgba(0, 0, 0, 0.65)), url('/image/datos-financieros.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed",minHeight:"100vh"},children:[(0,i.jsxs)("div",{className:"page-content",children:[i.jsx("div",{className:"bloomberg-container-padded",children:(0,i.jsxs)("div",{className:"metrics-grid",children:[(0,i.jsxs)("div",{className:"metric-card primary",children:[(0,i.jsxs)("div",{className:"metric-header",children:[i.jsx("div",{className:"metric-period",children:e("metrics:liveData")}),i.jsx("div",{className:"bloomberg-status bloomberg-status-success small",children:e("status:streaming")})]}),i.jsx("div",{className:"metric-value text-primary",children:t.tradeFlowRecords.toLocaleString()}),i.jsx("div",{className:"bloomberg-metric-label",children:e("tradeFlowRecords")}),(0,i.jsxs)("div",{className:"metric-change positive",children:["+12.5% ",e("thisMonth")]})]}),(0,i.jsxs)("div",{className:"metric-card",children:[(0,i.jsxs)("div",{className:"metric-header",children:[i.jsx("div",{className:"metric-period",children:e("metrics:trackedValue")}),i.jsx("div",{className:"bloomberg-status bloomberg-status-success small",children:e("status:active")})]}),(0,i.jsxs)("div",{className:"metric-value text-success",children:["$",t.totalTradeValue,"B"]}),i.jsx("div",{className:"bloomberg-metric-label",children:e("tradeIntelligence")}),(0,i.jsxs)("div",{className:"metric-change positive",children:["+23.7% ",e("yoy")]})]}),(0,i.jsxs)("div",{className:"metric-card",children:[(0,i.jsxs)("div",{className:"metric-header",children:[i.jsx("div",{className:"metric-period",children:e("metrics:optimization")}),i.jsx("div",{className:"bloomberg-status bloomberg-status-success small",children:e("status:optimal")})]}),(0,i.jsxs)("div",{className:"metric-value text-success",children:["94.2","%"]}),i.jsx("div",{className:"bloomberg-metric-label",children:e("successRate")}),i.jsx("div",{className:"metric-change positive",children:e("aboveTarget")})]}),(0,i.jsxs)("div",{className:"metric-card",children:[(0,i.jsxs)("div",{className:"metric-header",children:[i.jsx("div",{className:"metric-period",children:e("metrics:realTime")}),i.jsx("div",{className:"bloomberg-status bloomberg-status-info small",children:e("status:analyzing")})]}),i.jsx("div",{className:"metric-value text-primary",children:"12"}),i.jsx("div",{className:"bloomberg-metric-label",children:e("liveIntelligenceMetric")}),i.jsx("div",{className:"metric-change neutral",children:e("processing")})]})]})}),(0,i.jsxs)("div",{className:"bloomberg-container-padded",children:[(0,i.jsxs)("div",{className:"foundation-workspace",children:[(0,i.jsxs)("div",{className:"foundation-form-section",children:[i.jsx("h1",{className:"bloomberg-hero-title",children:e("title")}),i.jsx("p",{className:"bloomberg-hero-subtitle bloomberg-mb-lg",children:e("subtitle")}),(0,i.jsxs)("form",{onSubmit:handleSubmit,className:"bloomberg-form",children:[(0,i.jsxs)("div",{className:"bloomberg-card",children:[(0,i.jsxs)("div",{className:"bloomberg-card-header",children:[i.jsx("span",{className:"section-icon"}),(0,i.jsxs)("div",{className:"section-content",children:[i.jsx("h3",{className:"bloomberg-card-title",children:e("businessProfile")}),i.jsx("p",{className:"section-subtitle",children:e("businessProfileDesc")})]})]}),(0,i.jsxs)("div",{className:"bloomberg-grid bloomberg-grid-2",children:[(0,i.jsxs)("div",{className:"bloomberg-form-group",children:[i.jsx("label",{className:"bloomberg-label required",children:e("companyName")}),i.jsx("input",{className:"bloomberg-input",type:"text",value:a.companyName,onChange:e=>handleInputChange("companyName",e.target.value),placeholder:e("companyNamePlaceholder"),required:!0})]}),(0,i.jsxs)("div",{className:"bloomberg-form-group",children:[i.jsx("label",{className:"bloomberg-label required",children:e("industry")}),(0,i.jsxs)("select",{className:"bloomberg-input bloomberg-select",value:a.businessType,onChange:e=>{handleInputChange("businessType",e.target.value),"Other"!==e.target.value&&setCustomBusinessType("")},disabled:!0,required:!0,children:[i.jsx("option",{value:"",children:e("loadingIndustry")}),[].map(a=>{let t=`dropdown.industry.${a.value.toLowerCase()}`,r=s?e(t):a.description,l=r!==t?r:a.description||a.label;return i.jsx("option",{value:a.value,title:l,children:l},a.value)}),i.jsx("option",{value:"Other",children:e("otherIndustry")})]}),"Other"===a.businessType&&i.jsx("input",{className:"bloomberg-input",type:"text",value:"",onChange:e=>setCustomBusinessType(e.target.value),placeholder:e("specifyIndustry"),required:!0})]})]})]}),(0,i.jsxs)("div",{className:"bloomberg-card",children:[(0,i.jsxs)("div",{className:"bloomberg-card-header",children:[i.jsx("span",{className:"section-icon"}),(0,i.jsxs)("div",{className:"section-content",children:[i.jsx("h3",{className:"bloomberg-card-title",children:e("supplyChain")}),i.jsx("p",{className:"section-subtitle",children:e("supplyChainDesc")})]})]}),(0,i.jsxs)("div",{className:"bloomberg-grid bloomberg-grid-2",children:[(0,i.jsxs)("div",{className:"bloomberg-form-group",children:[i.jsx("label",{className:"bloomberg-label required",children:e("businessLocation")}),i.jsx("input",{className:"bloomberg-input",type:"text",value:a.zipCode,onChange:e=>handleInputChange("zipCode",e.target.value),placeholder:e("businessLocationPlaceholder"),required:!0}),i.jsx("div",{className:"text-muted",style:{fontSize:"0.75rem",marginTop:"0.25rem"},children:e("businessLocationHint")})]}),(0,i.jsxs)("div",{className:"bloomberg-form-group",children:[i.jsx("label",{className:"bloomberg-label required",children:e("primarySupplier")}),(0,i.jsxs)("select",{className:"bloomberg-input bloomberg-select",value:a.primarySupplierCountry,onChange:e=>handleInputChange("primarySupplierCountry",e.target.value),disabled:!0,required:!0,children:[i.jsx("option",{value:"",children:e("loadingCountries")}),[].map(e=>i.jsx("option",{value:e.value,title:e.description,children:e.description||e.label},e.value))]})]}),(0,i.jsxs)("div",{className:"bloomberg-form-group",children:[i.jsx("label",{className:"bloomberg-label required",children:e("importVolume")}),(0,i.jsxs)("select",{className:"bloomberg-input bloomberg-select",value:a.importVolume,onChange:e=>handleInputChange("importVolume",e.target.value),required:!0,children:[i.jsx("option",{value:"",children:e("importVolumePlaceholder")}),[].map(e=>i.jsx("option",{value:e.value,title:e.description,children:e.description||e.label},e.value))]})]}),(0,i.jsxs)("div",{className:"bloomberg-form-group",children:[i.jsx("label",{className:"bloomberg-label required",children:e("optimizationPriority")}),(0,i.jsxs)("select",{className:"bloomberg-input bloomberg-select",value:a.timelinePriority,onChange:e=>handleInputChange("timelinePriority",e.target.value),required:!0,children:[i.jsx("option",{value:"",children:e("optimizationPlaceholder")}),[].map(e=>i.jsx("option",{value:e.value,title:e.description,children:e.label},e.value))]})]})]})]}),(0,i.jsxs)("div",{className:"bloomberg-hero-actions",children:[i.jsx(l(),{href:"/dashboard",className:"bloomberg-btn bloomberg-btn-secondary",children:e("backToCommand")}),i.jsx("button",{type:"submit",className:"bloomberg-btn bloomberg-btn-primary",disabled:!0,children:e("continueToProduct")})]})]})]}),(0,i.jsxs)("div",{className:"foundation-intelligence-panel",children:[i.jsx("div",{style:{height:"120px"}}),(0,i.jsxs)("div",{className:"widget-header",children:[(0,i.jsxs)("div",{className:"widget-title",children:[i.jsx("div",{className:"widget-icon",children:"\uD83E\uDDE0"}),e("liveIntelligence")]}),i.jsx("div",{className:"bloomberg-status bloomberg-status-info small",children:e("status:realTime")})]}),(0,i.jsxs)("div",{className:"bloomberg-text-center bloomberg-mb-lg",children:[(0,i.jsxs)("div",{className:"metric-value text-primary",children:[(1+Object.values(a).filter(e=>""!==e).length/Object.keys(a).length*1).toFixed(1),"/10.0"]}),i.jsx("div",{className:"bloomberg-metric-label",children:e("intelligenceConfidence")}),(0,i.jsxs)("div",{className:"intelligence-score",children:[Math.floor(Object.values(a).filter(e=>""!==e).length/Object.keys(a).length*100),"% ",e("complete")]})]}),i.jsx("div",{className:"progress-bar bloomberg-mb-lg",children:i.jsx("div",{className:"progress-fill","data-progress":20*Math.floor(Object.values(a).filter(e=>""!==e).length/Object.keys(a).length*100/20)})}),!1,(0,i.jsxs)("div",{className:"nav-status",children:[i.jsx("div",{className:"status-header",children:e("systemStatus")}),(0,i.jsxs)("div",{className:"status-items",children:[(0,i.jsxs)("div",{className:"bloomberg-status bloomberg-status-success small",children:[e("database"),": ",e("loading")]}),(0,i.jsxs)("div",{className:"bloomberg-status bloomberg-status-success small",children:[e("analysis"),": ",e("ready")]}),(0,i.jsxs)("div",{className:"bloomberg-status bloomberg-status-info small",children:[e("intelligence"),": ",e("monitoring")]})]})]})]})," "]})," "]}),(0,i.jsxs)("details",{className:"bloomberg-section",children:[(0,i.jsxs)("summary",{className:"bloomberg-card-header",children:[i.jsx("h3",{className:"bloomberg-card-title",children:e("detailedAnalytics")}),i.jsx("span",{className:"bloomberg-status bloomberg-status-info",children:e("enterpriseDeepDive")})]}),i.jsx("div",{className:"details-content",children:i.jsx(Object(function(){var e=Error("Cannot find module '../components/FoundationIntelligenceDashboard'");throw e.code="MODULE_NOT_FOUND",e}()),{formData:a,derivedData:null,realTimeAnalysis:null,intelligenceScore:0})})]})]})," "]})]})," "]})}[d,m]=u.then?(await u)():u,t()}catch(e){t(e)}})},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9816:e=>{e.exports=require("styled-jsx/style")},2021:e=>{e.exports=import("i18next")},6252:e=>{e.exports=import("i18next-browser-languagedetector")},3847:e=>{e.exports=import("i18next-http-backend")},7987:e=>{e.exports=import("react-i18next")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var s=require("../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),a=s.X(0,[2761,1163,9209,8450,1664,9597,9834,3962,6353],()=>__webpack_exec__(535));module.exports=a})();