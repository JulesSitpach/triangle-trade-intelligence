"use strict";(()=>{var a={};a.id=9472,a.ids=[9472],a.modules={4675:a=>{a.exports=require("@anthropic-ai/sdk")},2885:a=>{a.exports=require("@supabase/supabase-js")},145:a=>{a.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},7916:(a,e,t)=>{t.r(e),t.d(e,{config:()=>u,default:()=>r,routeModule:()=>c});var i={};t.r(i),t.d(i,{default:()=>handler});var n=t(1802),o=t(7153),l=t(6249),s=t(5246);async function handler(a,e){if("POST"!==a.method)return e.status(405).json({error:"Method not allowed"});try{let{userData:t,psychAssessment:i}=a.body;if(!t)return e.status(400).json({error:"Missing user data"});console.log("\uD83C\uDDE8\uD83C\uDDE6\uD83C\uDDF2\uD83C\uDDFD CANADA-MEXICO ADVANTAGE API: Processing request with psychology"),console.log("\uD83D\uDC8E User Profile:",{businessType:t.businessType,importVolume:t.importVolume,supplierCountry:t.primarySupplierCountry}),i&&console.log("\uD83E\uDDE0 Psychological Profile:",i);let n=await s.Z.calculateUMCAAdvantage(t,i);if(n.success)return console.log("âœ… CANADA-MEXICO ADVANTAGE CALCULATED SUCCESSFULLY"),console.log(`ðŸ’° Financial Benefit: $${n.advantage.totalFinancialBenefit.toLocaleString()}`),console.log("\uD83C\uDDE8\uD83C\uDDE6\uD83C\uDDF2\uD83C\uDDFD Cultural bridge advantage: ACTIVE"),e.status(200).json({success:!0,message:"Canada-Mexico USMCA advantage calculated with family expertise",usmcaAdvantage:{source:"REAL_UN_COMTRADE_DATA + FAMILY_EXPERTISE",totalFinancialBenefit:n.advantage.totalFinancialBenefit,tariffSavings:n.advantage.tariffSavings,timeAdvantage:n.advantage.timeAdvantage,culturalAdvantage:n.advantage.culturalAdvantage,canadaRoute:n.advantage.canadaRoute,mexicoRoute:n.advantage.mexicoRoute,implementationSupport:n.advantage.implementationSupport,competitiveAdvantage:"Built by Canadian-Mexican family with real cross-border experience",marketOpportunity:"$56 billion Canada-Mexico trade relationship (2024)",governmentAlignment:"Aligned with active diplomatic strengthening initiatives"},calculationProof:{basis:n.calculationBasis,dataSource:n.source,timestamp:n.timestamp,culturalExpertise:n.culturalExpertise},nextSteps:{immediateActions:["Review Canada-Mexico route comparison","Assess maquiladora opportunities","Evaluate Vancouver/Montreal port options","Connect with bilingual implementation support"],familySupport:"Full guidance from Canadian-Mexican logistics expertise",governmentResources:"Business Council of Canada and Mexican trade representatives"}});return console.log("âš ï¸ Canada-Mexico calculation failed, using fallback"),e.status(200).json({success:!0,message:"Canada-Mexico advantage calculated with fallback estimates",usmcaAdvantage:n.fallback,fallbackMode:!0,culturalAdvantage:"Canada-Mexico family expertise still available for implementation"})}catch(a){console.error("âŒ Canada-Mexico Advantage API Error:",a),e.status(500).json({error:"Canada-Mexico advantage calculation failed",details:a.message,fallback:"Contact family directly for manual Canada-Mexico guidance"})}}let r=(0,l.l)(i,"default"),u=(0,l.l)(i,"config"),c=new n.PagesAPIRouteModule({definition:{kind:o.x.PAGES_API,page:"/api/canada-mexico-advantage",pathname:"/api/canada-mexico-advantage",bundlePath:"",filename:""},userland:i})}};var e=require("../../webpack-api-runtime.js");e.C(a);var __webpack_exec__=a=>e(e.s=a),t=e.X(0,[4222,6553,5246],()=>__webpack_exec__(7916));module.exports=t})();