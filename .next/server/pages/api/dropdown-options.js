"use strict";(()=>{var e={};e.id=7448,e.ids=[7448],e.modules={2885:e=>{e.exports=require("@supabase/supabase-js")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8639:(e,t,a)=>{a.r(t),a.d(t,{config:()=>l,default:()=>o,routeModule:()=>c});var u={};a.r(u),a.d(u,{default:()=>handler});var D=a(1802),i=a(7153),n=a(6249),r=a(6553);let s=(0,r.Ng)();async function handler(e,t){if("GET"!==e.method)return t.status(405).json({error:"Method not allowed"});try{let[e,a,u]=await Promise.all([getBusinessTypes(),getCountries(),getTariffData()]),D={businessTypes:await enhanceBusinessTypes(e),countries:await enhanceCountries(a,u),importVolumes:[{range:"Under $500K",min:12e3,max:35e3},{range:"$500K - $1M",min:25e3,max:7e4},{range:"$1M - $5M",min:75e3,max:35e4},{range:"$5M - $25M",min:375e3,max:15e5},{range:"Over $25M",min:18e5,max:5e6}].map(e=>({value:e.range,label:e.range,description:e.range,intelligence:{minSavings:e.min,maxSavings:e.max,avgSavings:Math.round((e.min+e.max)/2)}})),timelinePriorities:[{value:"Speed",label:"Speed",description:"Speed",intelligence:{priority:"transit_time",focus:"fastest_delivery",tradeOff:"may_cost_more"}},{value:"Cost",label:"Cost",description:"Cost",intelligence:{priority:"cost_optimization",focus:"lowest_total_cost",tradeOff:"may_take_longer"}},{value:"Balanced",label:"Balanced",description:"Balanced",intelligence:{priority:"balanced_optimization",focus:"best_overall_value",tradeOff:"moderate_compromises"}},{value:"Reliability",label:"Reliability",description:"Reliability",intelligence:{priority:"risk_minimization",focus:"most_stable_routes",tradeOff:"premium_for_security"}}],optimizationPriorities:[{value:"Cost Reduction",label:"Cost Reduction",description:"Minimize total landed costs and tariffs",intelligence:{focus:"maximum_savings",strategy:"triangle_routing_priority",avgSavings:"18-35%"}},{value:"Supply Chain Security",label:"Supply Chain Security",description:"Diversify suppliers and reduce single-country risk",intelligence:{focus:"risk_mitigation",strategy:"multi_source_diversification",riskReduction:"60-80%"}},{value:"Speed to Market",label:"Speed to Market",description:"Fastest delivery times and market access",intelligence:{focus:"transit_optimization",strategy:"direct_usmca_routes",timeReduction:"15-40%"}},{value:"Compliance & Quality",label:"Compliance & Quality",description:"Regulatory compliance and quality assurance",intelligence:{focus:"quality_control",strategy:"certified_partners",complianceRate:"99.5%+"}},{value:"Market Expansion",label:"Market Expansion",description:"Enter new markets and scale operations",intelligence:{focus:"growth_enablement",strategy:"scalable_networks",marketAccess:"USMCA+Global"}}],dataSource:"enhanced_usmca_database",timestamp:new Date().toISOString()};return t.status(200).json(D)}catch(e){return console.error("❌ Dropdown options API error:",e),t.status(500).json({error:"Database connection failed",message:"Unable to load dropdown options. Please try again later.",dataSource:"error"})}}async function getBusinessTypes(){let{data:e,error:t}=await s.from("usmca_business_intelligence").select("business_type, success_rate_percentage, avg_usmca_savings, companies_analyzed, recommended_triangle_route").order("success_rate_percentage",{ascending:!1});if(t)throw t;return e||[]}async function enhanceBusinessTypes(e){let t=e.reduce((e,t)=>(e.find(e=>e.business_type===t.business_type)||e.push(t),e),[]);return t.map((e,t)=>({value:e.business_type,label:e.business_type,description:e.business_type,intelligence:{successRate:e.success_rate_percentage,avgSavings:e.avg_usmca_savings,companiesAnalyzed:e.companies_analyzed,recommendedRoute:e.recommended_triangle_route}}))}async function getCountries(){let{data:e,error:t}=await s.from("countries").select("code, name").order("name");if(t)throw t;return e||[]}async function getTariffData(){let{data:e,error:t}=await s.from("usmca_tariff_rates").select("country_code, standard_rate, risk_level, notes");return e||[]}async function enhanceCountries(e,t){let a={};return t.forEach(e=>{a[e.country_code]={rate:e.standard_rate,risk:e.risk_level,notes:e.notes}}),e.map(e=>{let t=a[e.code]||null,u={CN:"\uD83C\uDDE8\uD83C\uDDF3",VN:"\uD83C\uDDFB\uD83C\uDDF3",TW:"\uD83C\uDDF9\uD83C\uDDFC",KR:"\uD83C\uDDF0\uD83C\uDDF7",IN:"\uD83C\uDDEE\uD83C\uDDF3",TH:"\uD83C\uDDF9\uD83C\uDDED",MY:"\uD83C\uDDF2\uD83C\uDDFE",JP:"\uD83C\uDDEF\uD83C\uDDF5",ID:"\uD83C\uDDEE\uD83C\uDDE9",PH:"\uD83C\uDDF5\uD83C\uDDED",BD:"\uD83C\uDDE7\uD83C\uDDE9",SG:"\uD83C\uDDF8\uD83C\uDDEC",DE:"\uD83C\uDDE9\uD83C\uDDEA",NL:"\uD83C\uDDF3\uD83C\uDDF1",GB:"\uD83C\uDDEC\uD83C\uDDE7",IT:"\uD83C\uDDEE\uD83C\uDDF9",PL:"\uD83C\uDDF5\uD83C\uDDF1",TR:"\uD83C\uDDF9\uD83C\uDDF7",FR:"\uD83C\uDDEB\uD83C\uDDF7",CZ:"\uD83C\uDDE8\uD83C\uDDFF",HU:"\uD83C\uDDED\uD83C\uDDFA",AE:"\uD83C\uDDE6\uD83C\uDDEA",ZA:"\uD83C\uDDFF\uD83C\uDDE6",EG:"\uD83C\uDDEA\uD83C\uDDEC",AU:"\uD83C\uDDE6\uD83C\uDDFA",NZ:"\uD83C\uDDF3\uD83C\uDDFF",US:"\uD83C\uDDFA\uD83C\uDDF8",CA:"\uD83C\uDDE8\uD83C\uDDE6",MX:"\uD83C\uDDF2\uD83C\uDDFD",AR:"\uD83C\uDDE6\uD83C\uDDF7",BR:"\uD83C\uDDE7\uD83C\uDDF7",CL:"\uD83C\uDDE8\uD83C\uDDF1",CO:"\uD83C\uDDE8\uD83C\uDDF4",CR:"\uD83C\uDDE8\uD83C\uDDF7",GT:"\uD83C\uDDEC\uD83C\uDDF9",PA:"\uD83C\uDDF5\uD83C\uDDE6",PE:"\uD83C\uDDF5\uD83C\uDDEA",EC:"\uD83C\uDDEA\uD83C\uDDE8",UY:"\uD83C\uDDFA\uD83C\uDDFE"}[e.code]||"\uD83C\uDF0D",D={CN:"EXTREME",VN:"HIGH",TW:"HIGH",KR:"HIGH",IN:"HIGH",JP:"HIGH",DE:"HIGH",TR:"HIGH",TH:"MEDIUM",MY:"MEDIUM",ID:"MEDIUM",PH:"MEDIUM",BD:"MEDIUM",SG:"MEDIUM",NL:"MEDIUM",GB:"MEDIUM",IT:"MEDIUM",PL:"MEDIUM",CZ:"MEDIUM",HU:"MEDIUM",AE:"MEDIUM",AU:"MEDIUM",US:"DESTINATION",CA:"USMCA",MX:"PROCESSOR",BR:"EMERGING",FR:"EMERGING",ZA:"EMERGING",EG:"EMERGING",NZ:"STANDARD",AR:"STANDARD",CL:"STANDARD",CO:"STANDARD",CR:"STANDARD",GT:"STANDARD",PA:"STANDARD",PE:"STANDARD",EC:"STANDARD",UY:"STANDARD"}[e.code]||"STANDARD",i=`${u} ${e.name}${"EXTREME"===D?" \uD83D\uDD25":"HIGH"===D?" ⚡":""}`;return{value:e.code,label:i,description:`${e.name} - Triangle routing priority: ${D}`,intelligence:t?{tariffRate:t.rate,riskLevel:t.risk,notes:t.notes,trianglePriority:D}:{trianglePriority:D,notes:`${e.name} - ${({EXTREME:"Highest tariff impact, biggest triangle savings",HIGH:"Essential manufacturing alternative, major savings potential",MEDIUM:"Established manufacturing hub, good routing opportunities",USMCA:"USMCA treaty partner, preferential trade access",PROCESSOR:"USMCA processing hub for triangle routing",DESTINATION:"USMCA destination market",EMERGING:"Growing manufacturing base, future opportunities",STANDARD:"Standard trading partner"})[D]||"Standard trading partner"}`}}})}let o=(0,n.l)(u,"default"),l=(0,n.l)(u,"config"),c=new D.PagesAPIRouteModule({definition:{kind:i.x.PAGES_API,page:"/api/dropdown-options",pathname:"/api/dropdown-options",bundlePath:"",filename:""},userland:u})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),a=t.X(0,[4222,6553],()=>__webpack_exec__(8639));module.exports=a})();