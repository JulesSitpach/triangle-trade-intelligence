# Triangle Intelligence Platform - Environment Configuration Template
# Copy this file to .env.local and fill in your actual values
# See config/README.md for detailed documentation

# =============================================================================
# CORE ENVIRONMENT
# =============================================================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
PORT=3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# Supabase Configuration (Required)
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Database Connection Settings
DB_TIMEOUT=30000
DB_POOL_SIZE=10
DB_SSL_ENABLED=true

# =============================================================================
# API AUTHENTICATION
# =============================================================================
# Anthropic Claude API (Required for Marcus AI)
ANTHROPIC_API_KEY=sk-ant-api03-your-api-key-here
ANTHROPIC_MODEL=claude-3-sonnet-20240229
ANTHROPIC_API_VERSION=2023-06-01

# UN Comtrade API (Required for trade data)
COMTRADE_API_KEY=your-comtrade-api-key-here
COMTRADE_SUBSCRIPTION_KEY=your-comtrade-subscription-key
COMTRADE_BASE_URL=https://comtradeapi.un.org
COMTRADE_API_VERSION=v1

# Shipping APIs (Optional)
SHIPPO_API_KEY=your-shippo-api-key-here
FEDEX_API_KEY=your-fedex-api-key-here
FEDEX_SECRET_KEY=your-fedex-secret-key-here
UPS_API_KEY=your-ups-api-key-here
UPS_USERNAME=your-ups-username-here
UPS_PASSWORD=your-ups-password-here

# Exchange Rates API (Optional)
EXCHANGE_RATES_API_KEY=your-exchange-rates-api-key-here

# =============================================================================
# UI CONFIGURATION
# =============================================================================
# Bloomberg Terminal Colors
UI_PRIMARY_COLOR=#38bdf8
UI_BACKGROUND_COLOR=#0a0f1c
UI_ACCENT_COLOR=#22c55e
UI_ORANGE_COLOR=#f97316

# Typography
UI_MONO_FONT=ui-monospace, SFMono-Regular, Monaco, monospace
UI_SANS_FONT=system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif

# Theme Settings
UI_THEME=bloomberg
UI_SCALE=1
UI_DENSITY=normal

# UI Features
UI_ENABLE_ANIMATIONS=true
UI_ENABLE_TRANSITIONS=true
UI_ENABLE_HIGH_CONTRAST=false
UI_ENABLE_REDUCED_MOTION=false

# =============================================================================
# API CONFIGURATION
# =============================================================================
# Timeouts (milliseconds)
API_TIMEOUT_DEFAULT=30000
API_TIMEOUT_COMTRADE=60000
API_TIMEOUT_ANTHROPIC=120000
API_TIMEOUT_SHIPPING=45000
API_TIMEOUT_CONNECT=10000

# Rate Limiting
API_RATE_LIMIT_GLOBAL=100
API_RATE_LIMIT_COMTRADE=10
API_RATE_LIMIT_ANTHROPIC=50
API_RATE_LIMIT_SHIPPING=30

# Retry Configuration
API_RETRY_MAX_ATTEMPTS=3
API_RETRY_BASE_DELAY=1000
API_RETRY_MAX_DELAY=30000
API_RETRY_JITTER=0.1

# Caching
API_CACHE_ENABLED=true
API_CACHE_DEFAULT_TTL=3600
API_CACHE_COMTRADE_TTL=14400
API_CACHE_SHIPPING_TTL=1800

# Circuit Breaker
API_CIRCUIT_BREAKER_ENABLED=true
API_CIRCUIT_BREAKER_THRESHOLD=5
API_CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
API_CIRCUIT_BREAKER_TIMEOUT=60000

# Health Checks
API_HEALTH_CHECK_ENABLED=true
API_HEALTH_CHECK_INTERVAL=300000
API_HEALTH_CHECK_TIMEOUT=10000

# Request Configuration
API_USER_AGENT=Triangle-Intelligence/1.0
API_ACCEPT=application/json
API_MAX_BODY_SIZE=10485760
API_MAX_RESPONSE_SIZE=52428800
API_ENABLE_LOGGING=true

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================
# USMCA Triangle Routing
BUSINESS_USMCA_REGIONAL_CONTENT_THRESHOLD=62
BUSINESS_TRIANGLE_MIN_TRADE_VALUE=10000
BUSINESS_TRIANGLE_MAX_COUNTRIES=5

# Analysis Parameters
BUSINESS_CONFIDENCE_THRESHOLD=0.7
BUSINESS_MIN_SAMPLE_SIZE=100
BUSINESS_MAX_ROUTES_PER_ANALYSIS=20

# HS Code Classification
BUSINESS_HS_CLASSIFICATION_CONFIDENCE=0.8
BUSINESS_HS_AUTO_CLASSIFY_THRESHOLD=0.9

# Risk Assessment
BUSINESS_RISK_HIGH_THRESHOLD=0.7
BUSINESS_RISK_MEDIUM_THRESHOLD=0.4
BUSINESS_RISK_UPDATE_INTERVAL=86400

# Default Trade Values
BUSINESS_DEFAULT_ANNUAL_SAVINGS=1900000
BUSINESS_DEFAULT_SHIPPING_COST=5000
BUSINESS_DEFAULT_TARIFF_RATE=0.05

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Content Security Policy
SECURITY_CSP_ENABLED=true
SECURITY_CSP_REPORT_ONLY=false

# CORS Settings
SECURITY_CORS_ENABLED=true
SECURITY_CORS_ORIGIN=http://localhost:3000,https://triangleintelligence.com
SECURITY_CORS_CREDENTIALS=true

# Security Headers
SECURITY_HSTS_ENABLED=true
SECURITY_HSTS_MAX_AGE=31536000
SECURITY_FRAME_OPTIONS=DENY
SECURITY_CONTENT_TYPE_NOSNIFF=true
SECURITY_XSS_PROTECTION=1; mode=block

# Rate Limiting
SECURITY_RATE_LIMIT_ENABLED=true
SECURITY_RATE_LIMIT_WINDOW=900000
SECURITY_RATE_LIMIT_MAX=100
SECURITY_RATE_LIMIT_SKIP_SUCCESSFUL=true

# Session Management
SECURITY_SESSION_TIMEOUT=3600000
SECURITY_SESSION_COOKIE_SECURE=true
SECURITY_SESSION_COOKIE_HTTPONLY=true
SECURITY_SESSION_COOKIE_SAMESITE=strict

# API Security
SECURITY_API_KEY_ROTATION_DAYS=90
SECURITY_REQUIRE_HTTPS=true
SECURITY_AUDIT_LOG_ENABLED=true

# =============================================================================
# DATABASE OPTIMIZATION
# =============================================================================
# Connection Pool
DB_CONNECTION_TIMEOUT=30000
DB_CONNECTION_POOL_MIN=5
DB_CONNECTION_POOL_MAX=50
DB_CONNECTION_IDLE_TIMEOUT=600000

# Query Optimization
DB_QUERY_TIMEOUT=30000
DB_BATCH_SIZE=1000
DB_ENABLE_QUERY_CACHE=true
DB_CACHE_TTL=300000

# Performance Monitoring
DB_ENABLE_SLOW_QUERY_LOG=true
DB_SLOW_QUERY_THRESHOLD=5000
DB_ENABLE_PERFORMANCE_MONITORING=true
DB_MONITORING_SAMPLE_RATE=0.1

# Indexing and Schema
DB_AUTO_VACUUM_ENABLED=true
DB_ENABLE_PARTITIONING=true
DB_INDEX_MAINTENANCE_INTERVAL=86400000

# Backup and Recovery
DB_BACKUP_ENABLED=true
DB_BACKUP_INTERVAL=86400000
DB_BACKUP_RETENTION_DAYS=30
DB_POINT_IN_TIME_RECOVERY=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log Levels
LOG_LEVEL=info
LOG_ENABLE_COLORS=true
LOG_TIMESTAMP_FORMAT=iso

# Transport Configuration
LOG_CONSOLE_ENABLED=true
LOG_FILE_ENABLED=true
LOG_FILE_PATH=logs/triangle-intelligence.log
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_MAX_FILES=5

# External Logging
LOG_EXTERNAL_ENABLED=false
LOG_EXTERNAL_URL=https://your-log-service.com/api/logs
LOG_EXTERNAL_API_KEY=your-log-service-api-key

# Context and Filtering
LOG_INCLUDE_STACK_TRACE=true
LOG_MASK_SENSITIVE_DATA=true
LOG_REQUEST_ID_ENABLED=true
LOG_USER_ID_ENABLED=true

# Performance Logging
LOG_PERFORMANCE_ENABLED=true
LOG_PERFORMANCE_THRESHOLD=1000
LOG_API_CALLS_ENABLED=true
LOG_DB_QUERIES_ENABLED=true

# Audit Logging
LOG_AUDIT_ENABLED=true
LOG_AUDIT_LEVEL=info
LOG_AUDIT_INCLUDE_REQUEST_BODY=false
LOG_AUDIT_INCLUDE_RESPONSE_BODY=false

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Development Features
DEV_ENABLE_HOT_RELOAD=true
DEV_ENABLE_PROFILING=false
DEV_ENABLE_BUNDLE_ANALYSIS=false

# Mock APIs
USE_MOCK_APIS=false
MOCK_API_DELAY=1000
MOCK_API_SUCCESS_RATE=0.95

# Testing Configuration
TEST_DATABASE_URL=postgresql://test:test@localhost:5432/triangle_test
TEST_API_TIMEOUT=60000
TEST_ENABLE_COVERAGE=true
TEST_COVERAGE_THRESHOLD=80

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================
# Production Domain
NEXT_PUBLIC_DOMAIN=triangleintelligence.com
NEXT_PUBLIC_CDN_URL=https://cdn.triangleintelligence.com

# Performance
PROD_ENABLE_COMPRESSION=true
PROD_ENABLE_CACHING=true
PROD_CACHE_MAX_AGE=86400
PROD_ENABLE_CDN=true

# Monitoring
PROD_ENABLE_MONITORING=true
PROD_MONITORING_ENDPOINT=https://monitoring.triangleintelligence.com
PROD_ENABLE_ERROR_REPORTING=true
PROD_ERROR_REPORTING_DSN=https://your-error-reporting-dsn

# Scaling
PROD_AUTO_SCALING_ENABLED=true
PROD_MIN_INSTANCES=2
PROD_MAX_INSTANCES=10
PROD_CPU_TARGET_UTILIZATION=70
PROD_MEMORY_TARGET_UTILIZATION=80

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Core Features
FEATURE_MARCUS_AI_ENABLED=true
FEATURE_TRIANGLE_ROUTING_ENABLED=true
FEATURE_HS_CODE_CLASSIFICATION_ENABLED=true
FEATURE_SHIPPING_CALCULATOR_ENABLED=true

# Advanced Features
FEATURE_REAL_TIME_ALERTS_ENABLED=true
FEATURE_PARTNERSHIP_ECOSYSTEM_ENABLED=true
FEATURE_HINDSIGHT_PATTERNS_ENABLED=true
FEATURE_DASHBOARD_HUB_ENABLED=true

# Experimental Features
FEATURE_ML_RECOMMENDATIONS_ENABLED=false
FEATURE_ADVANCED_ANALYTICS_ENABLED=false
FEATURE_BULK_PROCESSING_ENABLED=false
FEATURE_API_WEBHOOKS_ENABLED=false

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================
# Stripe (for payments)
STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Google Analytics (optional)
NEXT_PUBLIC_GA_TRACKING_ID=GA-XXXXXXXXX

# Sentry (error reporting)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ORG=your-org
SENTRY_PROJECT=triangle-intelligence

# =============================================================================
# CUSTOM CONFIGURATION
# =============================================================================
# Add your custom environment variables below
# CUSTOM_VAR_1=value1
# CUSTOM_VAR_2=value2